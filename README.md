# Магазин продуктов
Данный проект представляет собой **бэкэнд часть** приложения магазина продуктов.

## Содержание
- [Технологии](#технологии)
- [Начало работы](#начало-работы)
- [Функциональные возможности](#функциональные-возможности)

## Технологии
- [Python](https://www.python.org/)
- [Django](https://www.djangoproject.com/)
- [PostgreSQL](https://www.postgresql.org/)
- [DRF](https://www.django-rest-framework.org/)


## Начало работы
После клонирования проекта, рекомендуется:

Установить виртуальное окружение:
```sh
$ python3 -m vevn venv
```

Установить список зависимостей:
```sh
$ pip install -r requirements.txt
```

Отредактировать .env файл под себя:
```python
# Debug
DEBUG=True
...
```

Зависимости:
```python
asgiref==3.7.2
Django==5.0.3
djangorestframework==3.14.0
djangorestframework-simplejwt==5.3.1
pillow==10.2.0
psycopg2==2.9.9
PyJWT==2.8.0
python-dotenv==1.0.1
pytz==2024.1
sqlparse==0.4.4
typing_extensions==4.10.0
tzdata==2024.1
Unidecode==1.3.8
```

## Функциональные возможности
1. **Категории и Подкатегории (админка)**:
создание, редактирование и удаление категорий и подкатегорий товаров.
Категории и подкатегории обязательно имеют наименование, slug-имя, изображение.
Подкатегории связаны с родительской категорией.
2. **Продукты (админка)**: 
создание, редактирование и удаление продуктов.
Продукты относятся к определенной подкатегории и категории.
Продукты имеют наименование, slug-имя, изображение в 3-х размерах, цену.
Эндпоинт Продуктов с Пагинацией:
3. **Корзина**: 
эндпоинты для добавления, изменения (изменение количества), удаления продукта в корзине.
Эндпоинт вывода состава корзины с подсчетом количества товаров и суммы стоимости товаров.
Возможность полной очистки корзины.
4. **Авторизация**:
операции по эндпоинтам категорий и продуктов доступны любому пользователю.
Операции по эндпоинтам корзины доступны только авторизированным пользователям и только со своей корзиной.


### Сущности системы
* **Категория**: содержит наименование, уникальное slug-имя и изображение.
Может иметь родительскую категорию для связи с подкатегориями.
* **Продукт**: связан с категорией.
Содержит наименование, уникальное slug-имя, цену и изображения в трех размерах.
* **Корзина**: связан с категорией.
Содержит наименование, уникальное slug-имя, цену и изображения в трех размерах.
* **Товар корзины**: связан с пользователем и продуктом.
Содержит количество товара.
* **Пользователь**: в системе описывает основные характеристики участника, связанного с "Товарами корзины". Она включает в себя уникальное поле для идентификации по почте, а также роль пользователя в системе.

### Права доступа
* Каждый пользователь имеет доступ только к своим корзине и товарам корзины.
* Неавторизованный пользовать может просматривать только список категорий и продуктов.

### Эндпоинты
* `http://localhost:8000/categories/` - получение списка всех категорий с подкатегориями, а также пагинацией.
* `http://localhost:8000/products/` - получение списка всех продуктов с пагинацией.
* `http://localhost:8000/cart_item/create/` - создания нового товара в корзине.
* `http://localhost:8000/cart_item/update/int:pk/` - обновления товара в корзине.
* `http://localhost:8000/cart_item/delete/int:pk/` - обновление товара из корзины.
* `http://localhost:8000/cart/` - получение состава корзины с подсчетом количества товаров и суммы стоимости.
* `http://localhost:8000/cart/clear/` - эндпоинт для полной очистки корзины.
* `http://localhost:8000/users/register/` - эндпоинт для регистрации нового пользователя.
* `http://localhost:8000/users/update/int:pk/` - обновление информации о пользователе.
* `http://localhost:8000/users/delete/int:pk/` - эндпоинт для удаления пользователя.
* `http://localhost:8000/users/token/` - эндпоинт для получения токена доступа.
* `http://localhost:8000/users/token/refresh/` - эндпоинт для обновления токена доступа.
